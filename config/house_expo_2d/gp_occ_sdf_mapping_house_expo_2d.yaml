num_threads: 64
update_hz: 60
log_timing: true
gp_sdf_area_scale: 3
max_valid_gradient_var: 0.1
invalid_position_var: 0.25
use_occ_sign: true
train_gp_immediately: false
edf_gp:
    kernel_type: erl::covariance::Matern32<2l>
    kernel_setting_type: erl::covariance::Covariance::Setting
    kernel:
        x_dim: 2
        alpha: 1
        scale: 0.3
        scale_mix: 1
        weights: [ ]
    log_lambda: 40
    max_num_samples: 256   # max dataset size
    no_gradient_observation: true
test_query:
    max_test_valid_distance_var: 0.2
    search_area_half_size: 2
    num_neighbor_gps: 4
    use_smallest: true  # use the smallest distance as the prediction
    compute_covariance: true  # whether to compute covariance
    use_gp_covariance: false
    softmin_temperature: 10.0
surface_mapping_type: erl::gp_sdf::GpOccSurfaceMapping2D
surface_mapping_setting_type: erl::gp_sdf::GpOccSurfaceMapping2D::Setting
surface_mapping:
    sensor_gp:
        group_size: 26  # number of points in each group, including the overlap ones
        overlap_size: 6
        margin: 0
        init_variance: 1000000
        sensor_range_var: 0.01
        max_valid_range_var: 0.1  # drop the point if its distance variance is larger than this
        occ_test_temperature: 30
        lidar_frame:
            valid_range_min: 0.2
            valid_range_max: 30
            angle_min: -3.141592653 # -2.3561944901923448
            angle_max: 3.141592653  # 2.3561944901923448
            num_rays: 360
            discontinuity_factor: 10
            rolling_diff_discount: 0.9
            min_partition_size: 5
        gp:
            kernel_type: erl::covariance::OrnsteinUhlenbeck<1l>
            kernel_setting_type: erl::covariance::Covariance::Setting
            kernel:
                x_dim: 1
                alpha: 1
                scale: 0.5
                scale_mix: 1
                weights: [ ]
            max_num_samples: 32
        mapping:
            type: kInverseSqrt
            scale: 1
    compute_variance:
        zero_gradient_position_var: 1
        zero_gradient_gradient_var: 1
        min_distance_var: 1
        max_distance_var: 100
        position_var_alpha: 0.01
        min_gradient_var: 0.01
        max_gradient_var: 1
    update_map_points:
        min_observable_occ: -0.1
        max_surface_abs_occ: 0.02
        max_valid_gradient_var: 0.8
        max_adjust_tries: 5
        max_bayes_position_var: 0.5
        max_bayes_gradient_var: 0.3
        min_position_var: 0.001
        min_gradient_var: 0.001
    quadtree:
        tree_depth: 16
        log_odd_min: -2
        log_odd_max: 10
        log_odd_hit: 0.85
        log_odd_miss: -0.4
        log_odd_occ_threshold: 0
        resolution: 0.1
        use_change_detection: false
        use_aabb_limit: false
        aabb:
            center: [ 0, 0 ]
            half_sizes: [ 0, 0 ]
    cluster_level: 4
    perturb_delta: 0.001  # this makes the SDF prediction more smooth over time
    zero_gradient_threshold: 1.0e-10
    update_occupancy: true
